---
import ThemeToggle from '../components/ThemeToggle.jsx';
---

<header id="navbar" class="fixed top-0 left-0 w-full z-50 bg-white dark:bg-black border-b border-lightgray dark:border-dark">
  <nav class="max-w-6xl mx-auto px-6 py-3 flex items-center justify-between">

    <!-- LOGO -->
    <h1 class="text-2xl font-title text-dark dark:text-white">
      Jorge Soto
    </h1>

    <!-- LINKS DESKTOP -->
    <ul class="hidden md:flex gap-8 text-base font-body text-black dark:text-lightgray">
      <li><a href="#about" class="hover:text-red transition">Sobre mí</a></li>
      <li><a href="#projects" class="hover:text-red transition">Proyectos</a></li>
      <li><a href="#contact" class="hover:text-red transition">Contacto</a></li>
    </ul>

    <!-- TOGGLE (DESKTOP) -->
    <div class="hidden md:block ml-4">
      <ThemeToggle client:load />
    </div>

    <!-- BOTÓN HAMBURGUESA (MOBILE) -->
    <button id="menu-btn" class="md:hidden ml-4 flex flex-col gap-1">
      <span class="w-6 h-0.5 bg-dark dark:bg-lightgray rounded"></span>
      <span class="w-6 h-0.5 bg-dark dark:bg-lightgray rounded"></span>
      <span class="w-6 h-0.5 bg-dark dark:bg-lightgray rounded"></span>
    </button>
  </nav>

  <!-- MENÚ MOBILE -->
  <div
    id="mobile-menu"
    class="md:hidden hidden border-t border-lightgray dark:border-dark bg-white dark:bg-black"
  >
    <ul class="flex flex-col items-center gap-4 py-4 text-black dark:text-lightgray font-body">
      <li><a href="#about" class="hover:text-red" >Sobre mí</a></li>
      <li><a href="#projects" class="hover:text-red" >Proyectos</a></li>
      <li><a href="#contact" class="hover:text-red" >Contacto</a></li>
      <li class="mt-2">
        <ThemeToggle client:load />
      </li>
    </ul>
  </div>
</header>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const navbar = document.getElementById("navbar");
    const menuBtn = document.getElementById("menu-btn");
    const mobileMenu = document.getElementById("mobile-menu");

    if (!navbar || !menuBtn || !mobileMenu) return;

    // Menú mobile
    menuBtn.addEventListener("click", () => {
      mobileMenu.classList.toggle("hidden");
    });
  });
</script>
